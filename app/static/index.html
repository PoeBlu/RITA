<!DOCTYPE html>
<html>
<style>
  .container{margin-top: 50px}
  .deactive{display: none;}
  .active {
      background-color: #FFF;
      color: #000;
  }
  .header{text-align: center}
  .body{text-align:left}
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  li {
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      float: left;
      margin: 3px 3px 0px 3px;
      padding: 0;
      background-color: #CCC;
      color: #696969;
  }
  .result_type{
    max-width: 100px;
  }
  .potential_save_dir{
    max-width: 200px;
  }
  .unlikely_save_dir{
    max-width: 200px;
  }
  .threshold{
    max-width: 70px;
  }
  .proto{
    max-width: 75px;
  }
  .ignore{
    max-width: 75px;
  }
  .logo{
    margin-top: 0;
    max-height: 50px;
  }
  .logo-brand{
    float: left;
    height: 50px;
    padding: 0;
    font-size: 18px;
    line-height: 20px;
  }
  #HTHeader{
    color:white;
    margin:auto;
  }
</style>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Hunt Teaming</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.2.3/backbone-min.js"></script>
  <script src="js/modules.js"></script>
  <script src="js/tabs.js"></script>
  <script src="js/importers.js"></script>
  <script src="js/app.js"></script>
  <link rel="stylesheet" type="text/css" href="css/HT.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

</head>
<body>
    <nav id="navbar-main" class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div id="HT-Header" class="">
          <img id="logo-left" class="logo" src="img/logo.png">
          Hunt Team Security Searching
          <img id="logo-right" class="logo" src="img/logo.png">
        </div>
      </div>
    </nav>
    <div class="header container">
      <section id="customer" class="active">
        <label class="customer">Enter Customer: </label>
        <div>
        <input id="newCusomer" type="text" value="Please Enter Customer Name" onchange=customerInput(this.value)>
        <div>
      </section>
      <h1 id="customerLabel" class="deactive"></h1>
      <section id="tabs" class="deactive">
        <ul class='nav nav-tabs'></ul>
        <div></div>
    </section>

    <script type="text/template" id="label-tmpl">
        <li<% if(active){%><%= ' class="active"' %><%}%> data-label='<%= label %>'><a href="#"><%= label %></a></li>
    </script>
    <script type="text/template" id="content-tmpl">
        <span<% if(!active){%><%= ' class="deactive"' %><%}%> id='content-<%= label %>'><%= content %></span>
    </script>
    <script>
      function fieldChanged (field, value, id){
        console.log(field);
        var updateField = "{\""+field+"\":\""+value+"\"}";
    return $.ajax({
      type: "POST",
      url: BASE_URL + "module/"+id+"/set", 
      contentType:"application/json; charset=utf-8",
      dataType:"json",
      data: updateField,
      success: function() {
        alert("YOU FUCKING WIN!");
        }
      });
  }</script>
  <script>
      function customerInput (value){
        var messageBox  = document.getElementById("customerLabel")
            messageBox.innerHTML = "";
            messageBox.innerHTML += value;
            console.log(messageBox.innerHTML);
        document.getElementById("tabs").className =
        document.getElementById("tabs").className.replace
        ( /(?:^|\s)deactive(?!\S)/g , 'active' );
        document.getElementById("customerLabel").className =
        document.getElementById("customerLabel").className.replace
        ( /(?:^|\s)deactive(?!\S)/g , 'active' );
        document.getElementById("customer").className =
        document.getElementById("customer").className.replace
        ( /(?:^|\s)active(?!\S)/g , 'deactive' );


/*        var updateField = "{\"customer\":\""+value+"\"}";

    return $.ajax({

      type: "POST",
      url: BASE_URL + "/api/v1.0/customer/set'", 
      contentType:"application/json; charset=utf-8",
      dataType:"json",
      data: updateField,
      success: function() {
        document.getElementById("tabs").className =
      document.getElementById("tabs").className.replace
      ( /(?:^|\s)deactive(?!\S)/g , 'active' )
        }
      });*/
  }</script>
    <script>
      function moduleRun (id){
        var image = "run-img"+id;
        var buttons = document.getElementsByTagName('button');
        for(var i=0; i< buttons.length; i++)
        {
          buttons[i].disabled = true;
          buttons[i].className = 
          buttons[i].className.replace( /(?:^|\s)active(?!\S)/g , 'deactive' );
        }


        document.getElementById(image).className =
        document.getElementById(image).className.replace
        ( /(?:^|\s)deactive(?!\S)/g , 'active' );

        return $.ajax({
          type: "POST",
          url: BASE_URL + "/api/v1.0/importer/"+id+"/run", 
          contentType:"application/json; charset=utf-8",
          dataType:"json",
//          data: updateField,
          success: function() {
                    document.getElementsByTagName("button").disabled = false;
        document.getElementById(image).className =
        document.getElementById(image).className.replace
        ( /(?:^|\s)active(?!\S)/g , 'deactive' );
        document.getElementsByTagName("button").className =
        document.getElementsByTagName("button").className.replace
        ( /(?:^|\s)deactive(?!\S)/g , 'active' );
        }
      });
  }</script>
      <script>
      function importerRun (id){
        
        document.getElementById("tabs").className =
        document.getElementById("tabs").className.replace
        ( /(?:^|\s)deactive(?!\S)/g , 'active' );
        document.getElementById("customerLabel").className =
        document.getElementById("customerLabel").className.replace
        ( /(?:^|\s)deactive(?!\S)/g , 'active' );
        document.getElementById("customer").className =
        document.getElementById("customer").className.replace
        ( /(?:^|\s)active(?!\S)/g , 'deactive' );


/*        var updateField = "{\"customer\":\""+value+"\"}";

    return $.ajax({

      type: "POST",
      url: BASE_URL + "/api/v1.0/importer/"+id+"/run", 
      contentType:"application/json; charset=utf-8",
      dataType:"json",
      data: updateField,
      success: function() {
        document.getElementById("tabs").className =
      document.getElementById("tabs").className.replace
      ( /(?:^|\s)deactive(?!\S)/g , 'active' )
        }
      });*/
  }</script>


  </div>
</body>
</html>
